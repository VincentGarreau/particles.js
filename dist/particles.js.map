{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pjsutils.js","webpack:///./src/pjsinteract.js","webpack:///./src/pjsparticle.js","webpack:///./src/pjsmodes.js","webpack:///./src/pjsvendors.js","webpack:///./src/pjsretina.js","webpack:///./src/pjscanvas.js","webpack:///./src/pjsparticles.js","webpack:///./src/pjsfunctions.js","webpack:///./src/pjs.js","webpack:///./src/pjsloader.js","webpack:///./src/particles.js"],"names":["hexToRgb","hex","shorthandRegex","replace","m","r","g","b","result","exec","parseInt","clamp","number","min","max","Math","isInArray","value","array","indexOf","deepExtend","destination","source","property","constructor","Object","pJSInteract","pJS","linkParticles","p1","p2","options","dx","x","offsetX","dy","y","offsetY","dist","sqrt","particles","line_linked","distance","opacity_line","opacity","color_rgb","color","color_line","canvas","ctx","strokeStyle","lineWidth","width","beginPath","moveTo","lineTo","stroke","closePath","attractParticles","ax","move","attract","rotateX","ay","rotateY","vx","vy","bounceParticles","dist_p","radius","pJSParticle","position","size","random","anim","enable","size_status","vs","speed","sync","w","h","bounce","fn","vendors","checkOverlap","Array","color_selected","floor","length","rgb","undefined","s","l","hsl","opacity_status","vo","velbase","direction","straight","vx_i","vy_i","shape_type","shape","type","shape_selected","sh","img","src","image","ratio","height","img_type","source_svg","createSvgImg","pushing","loaded","draw","p","color_value","radius_bubble","opacity_bubble","fillStyle","p_x","p_y","arc","PI","rect","drawShape","polygon","nb_sides","drawImage","img_obj","obj","fill","pJSModes","pushParticles","nb","pos","i","push","pos_x","pos_y","removeParticles","splice","bubbleParticle","interactivity","events","onhover","mode","dx_mouse","mouse","dy_mouse","dist_mouse","modes","bubble","init","status","dif","onclick","bubble_clicking","click_pos_x","click_pos_y","time_spent","Date","getTime","click_time","duration","bubble_duration_end","process","bubble_param","particles_param","p_obj_bubble","p_obj","id","value_tmp","repulseParticle","normVec","repulseRadius","repulse","velocity","repulseFactor","pow","out_mode","repulse_finish","repulse_count","repulse_clicking","d","force","f","atan2","cos","sin","grabParticle","grab","pJSVendors","eventsListeners","detect_on","el","window","addEventListener","e","clientX","clientY","retina","pxratio","particles_nb","remove","setTimeout","densityAutoParticles","density","area","nb_particles","value_area","missing_particles","abs","svgXml","rgbHex","coloredSvgXml","svg","Blob","DOMURL","URL","webkitURL","url","createObjectURL","Image","revokeObjectURL","count_svg","destroypJS","cancelAnimationFrame","drawAnimFrame","canvas_el","pJSLoader","pJSDomSet","c","startX","startY","sideLength","sideCountNumerator","sideCountDenominator","sideCount","decimalSides","interiorAngleDegrees","interiorAngle","save","translate","rotate","restore","exportImg","open","toDataURL","loadImg","img_error","response","fetch","ok","blob","checkBeforeDraw","console","error","cancelRequestAnimFrame","requestAnimFrame","checkAnimFrame","check","paint","create","start","substr","pJSRetina","retina_detect","devicePixelRatio","offsetWidth","offsetHeight","pJSCanvas","getContext","resize","empty","fillRect","clear","clearRect","pJSParticles","update","ms","parallax","tmp_x","innerWidth","smooth","tmp_y","innerHeight","opacity_min","size_min","new_pos","x_left","x_right","y_top","y_bottom","j","interact","refresh","pJSFunctions","tag_id","params","document","querySelector","pJSDom","load","pJS_tag","getElementById","pJS_canvas_class","exist_canvas","getElementsByClassName","removeChild","createElement","className","style","appendChild","pjs","found","idx","loadJSON","path_config_json","callback","json","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","particlesJS"],"mappings":"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","file":"particles.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\r\n\r\n/* ---------- global functions - vendors ------------ */\r\nexport function hexToRgb(hex) {\r\n    // By Tim Down - http://stackoverflow.com/a/5624139/3493650\r\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    let shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    hex = hex.replace(shorthandRegex, (m, r, g, b) => {\r\n        return r + r + g + g + b + b;\r\n    });\r\n    let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n    } : null;\r\n};\r\n\r\nexport function clamp(number, min, max) {\r\n    return Math.min(Math.max(number, min), max);\r\n};\r\n\r\nexport function isInArray(value, array) {\r\n    return array.indexOf(value) > -1;\r\n}\r\n\r\nexport function deepExtend(destination, source) {\r\n    for (let property in source) {\r\n      if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n        destination[property] = destination[property] || {};\r\n  \r\n        Object.deepExtend(destination[property], source[property]);\r\n      } else {\r\n        destination[property] = source[property];\r\n      }\r\n    }\r\n    return destination;\r\n  }","import { hexToRgb } from './pjsutils';\r\n\r\n'use strict';\r\n\r\nexport class pJSInteract {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    /* ---------- pJS functions - particles interaction ------------ */\r\n    linkParticles(p1, p2) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        let dx = (p1.x + p1.offsetX) - (p2.x + p2.offsetX);\r\n        let dy = (p1.y + p1.offsetY) - (p2.y + p2.offsetY);\r\n        let dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n        /* draw a line between p1 and p2 if the distance between them is under the config distance */\r\n        if (dist <= options.particles.line_linked.distance) {\r\n            let opacity_line = options.particles.line_linked.opacity - (dist / (1 / options.particles.line_linked.opacity)) / options.particles.line_linked.distance;\r\n            if (opacity_line > 0) {\r\n                /* style */\r\n                options.particles.line_linked.color_rgb = options.particles.line_linked.color_rgb || hexToRgb(options.particles.line_linked.color);\r\n\r\n                let color_line = options.particles.line_linked.color_rgb;\r\n\r\n                pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\r\n                pJS.canvas.ctx.lineWidth = options.particles.line_linked.width;\r\n                //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\r\n                /* path */\r\n                pJS.canvas.ctx.beginPath();\r\n                pJS.canvas.ctx.moveTo((p1.x + p1.offsetX), (p1.y + p1.offsetY));\r\n                pJS.canvas.ctx.lineTo((p2.x + p2.offsetX), (p2.y + p2.offsetY));\r\n                pJS.canvas.ctx.stroke();\r\n                pJS.canvas.ctx.closePath();\r\n            }\r\n        }\r\n    }\r\n\r\n    attractParticles(p1, p2) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* condensed particles */\r\n        let dx = p1.x - p2.x;\r\n        let dy = p1.y - p2.y;\r\n        let dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n        if (dist <= options.particles.line_linked.distance) {\r\n            let ax = dx / (options.particles.move.attract.rotateX * 1000), ay = dy / (options.particles.move.attract.rotateY * 1000);\r\n            \r\n            p1.vx -= ax;\r\n            p1.vy -= ay;\r\n            p2.vx += ax;\r\n            p2.vy += ay;\r\n        }\r\n    }\r\n\r\n    bounceParticles(p1, p2) {\r\n        let dx = p1.x - p2.x;\r\n        let dy = p1.y - p2.y;\r\n        let dist = Math.sqrt(dx * dx + dy * dy);\r\n        let dist_p = p1.radius + p2.radius;\r\n\r\n        if (dist <= dist_p) {\r\n            p1.vx = -p1.vx;\r\n            p1.vy = -p1.vy;\r\n            p2.vx = -p2.vx;\r\n            p2.vy = -p2.vy;\r\n        }\r\n    }\r\n}","import { hexToRgb } from './pjsutils';\r\n\r\n'use strict';\r\n\r\nexport class pJSParticle {\r\n    /* --------- pJS functions - particles ----------- */\r\n    constructor(pJS, color, opacity, position) {\r\n        this.pJS = pJS;\r\n        let options = pJS.options;\r\n\r\n        /* size */\r\n        this.radius = (options.particles.size.random ? Math.random() : 1) * options.particles.size.value;\r\n        if (options.particles.size.anim.enable) {\r\n            this.size_status = false;\r\n            this.vs = options.particles.size.anim.speed / 100;\r\n            if (!options.particles.size.anim.sync) {\r\n                this.vs = this.vs * Math.random();\r\n            }\r\n        }\r\n        /* position */\r\n        this.x = position ? position.x : Math.random() * pJS.canvas.w;\r\n        this.y = position ? position.y : Math.random() * pJS.canvas.h;\r\n        /* check position  - into the canvas */\r\n        if (this.x > pJS.canvas.w - this.radius * 2)\r\n            this.x = this.x - this.radius;\r\n        else if (this.x < this.radius * 2)\r\n            this.x = this.x + this.radius;\r\n        if (this.y > pJS.canvas.h - this.radius * 2)\r\n            this.y = this.y - this.radius;\r\n        else if (this.y < this.radius * 2)\r\n            this.y = this.y + this.radius;\r\n        /* parallax */\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        /* check position - avoid overlap */\r\n        if (options.particles.move.bounce) {\r\n            pJS.fn.vendors.checkOverlap(this, position);\r\n        }\r\n        /* color */\r\n        this.color = {};\r\n        if (typeof (color.value) == 'object') {\r\n            if (color.value instanceof Array) {\r\n                let color_selected = color.value[Math.floor(Math.random() * options.particles.color.value.length)];\r\n\r\n                this.color.rgb = hexToRgb(color_selected);\r\n            }\r\n            else {\r\n                if (color.value.r != undefined && color.value.g != undefined && color.value.b != undefined) {\r\n                    this.color.rgb = {\r\n                        r: color.value.r,\r\n                        g: color.value.g,\r\n                        b: color.value.b\r\n                    };\r\n                }\r\n                if (color.value.h != undefined && color.value.s != undefined && color.value.l != undefined) {\r\n                    this.color.hsl = {\r\n                        h: color.value.h,\r\n                        s: color.value.s,\r\n                        l: color.value.l\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        else if (color.value == 'random') {\r\n            this.color.rgb = {\r\n                r: (Math.floor(Math.random() * (255 - 0 + 1)) + 0),\r\n                g: (Math.floor(Math.random() * (255 - 0 + 1)) + 0),\r\n                b: (Math.floor(Math.random() * (255 - 0 + 1)) + 0)\r\n            };\r\n        }\r\n        else if (typeof (color.value) == 'string') {\r\n            this.color = color;\r\n            this.color.rgb = hexToRgb(this.color.value);\r\n        }\r\n        /* opacity */\r\n        this.opacity = (options.particles.opacity.random ? Math.random() : 1) * options.particles.opacity.value;\r\n        if (options.particles.opacity.anim.enable) {\r\n            this.opacity_status = false;\r\n            this.vo = options.particles.opacity.anim.speed / 100;\r\n            if (!options.particles.opacity.anim.sync) {\r\n                this.vo = this.vo * Math.random();\r\n            }\r\n        }\r\n        /* animation - velocity for speed */\r\n        let velbase = {};\r\n\r\n        switch (options.particles.move.direction) {\r\n            case 'top':\r\n                velbase = { x: 0, y: -1 };\r\n                break;\r\n            case 'top-right':\r\n                velbase = { x: 0.5, y: -0.5 };\r\n                break;\r\n            case 'right':\r\n                velbase = { x: 1, y: -0 };\r\n                break;\r\n            case 'bottom-right':\r\n                velbase = { x: 0.5, y: 0.5 };\r\n                break;\r\n            case 'bottom':\r\n                velbase = { x: 0, y: 1 };\r\n                break;\r\n            case 'bottom-left':\r\n                velbase = { x: -0.5, y: 1 };\r\n                break;\r\n            case 'left':\r\n                velbase = { x: -1, y: 0 };\r\n                break;\r\n            case 'top-left':\r\n                velbase = { x: -0.5, y: -0.5 };\r\n                break;\r\n            default:\r\n                velbase = { x: 0, y: 0 };\r\n                break;\r\n        }\r\n        if (options.particles.move.straight) {\r\n            this.vx = velbase.x;\r\n            this.vy = velbase.y;\r\n            if (options.particles.move.random) {\r\n                this.vx = this.vx * (Math.random());\r\n                this.vy = this.vy * (Math.random());\r\n            }\r\n        }\r\n        else {\r\n            this.vx = velbase.x + Math.random() - 0.5;\r\n            this.vy = velbase.y + Math.random() - 0.5;\r\n        }\r\n        // let theta = 2.0 * Math.PI * Math.random();\r\n\r\n        // this.vx = Math.cos(theta);\r\n        // this.vy = Math.sin(theta);\r\n\r\n        this.vx_i = this.vx;\r\n        this.vy_i = this.vy;\r\n        /* if shape is image */\r\n        let shape_type = options.particles.shape.type;\r\n\r\n        if (typeof (shape_type) == 'object') {\r\n            if (shape_type instanceof Array) {\r\n                let shape_selected = shape_type[Math.floor(Math.random() * shape_type.length)];\r\n                this.shape = shape_selected;\r\n            }\r\n        } else {\r\n            this.shape = shape_type;\r\n        }\r\n\r\n        if (this.shape == 'image') {\r\n            let sh = options.particles.shape;\r\n            this.img = {\r\n                src: sh.image.src,\r\n                ratio: sh.image.width / sh.image.height\r\n            };\r\n            if (!this.img.ratio)\r\n                this.img.ratio = 1;\r\n            if (pJS.img_type == 'svg' && pJS.source_svg != undefined) {\r\n                pJS.fn.vendors.createSvgImg(this);\r\n                if (pJS.pushing) {\r\n                    this.img.loaded = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        let p = this;\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n        let radius;\r\n        let opacity;\r\n        let color_value;\r\n\r\n        if (p.radius_bubble != undefined) {\r\n            radius = p.radius_bubble;\r\n        }\r\n        else {\r\n            radius = p.radius;\r\n        }\r\n        if (p.opacity_bubble != undefined) {\r\n            opacity = p.opacity_bubble;\r\n        }\r\n        else {\r\n            opacity = p.opacity;\r\n        }\r\n        if (p.color.rgb) {\r\n            color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + opacity + ')';\r\n        }\r\n        else {\r\n            color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + opacity + ')';\r\n        }\r\n        pJS.canvas.ctx.fillStyle = color_value;\r\n        pJS.canvas.ctx.beginPath();\r\n\r\n        let p_x = p.x + p.offsetX;\r\n        let p_y = p.y + p.offsetY;\r\n\r\n        switch (p.shape) {\r\n            case 'circle':\r\n                pJS.canvas.ctx.arc(p_x, p_y, radius, 0, Math.PI * 2, false);\r\n                break;\r\n            case 'edge':\r\n                pJS.canvas.ctx.rect(p.x - radius, p.y - radius, radius * 2, radius * 2);\r\n                break;\r\n            case 'triangle':\r\n                pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius, p.y + radius / 1.66, radius * 2, 3, 2);\r\n                break;\r\n            case 'polygon':\r\n                pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius / (options.particles.shape.polygon.nb_sides / 3.5), // startX\r\n                    p.y - radius / (2.66 / 3.5), // startY\r\n                    radius * 2.66 / (options.particles.shape.polygon.nb_sides / 3), // sideLength\r\n                    options.particles.shape.polygon.nb_sides, // sideCountNumerator\r\n                    1 // sideCountDenominator\r\n                );\r\n                break;\r\n            case 'star':\r\n                pJS.fn.vendors.drawShape(pJS.canvas.ctx, p.x - radius * 2 / (options.particles.shape.polygon.nb_sides / 4), // startX\r\n                    p.y - radius / (2 * 2.66 / 3.5), // startY\r\n                    radius * 2 * 2.66 / (options.particles.shape.polygon.nb_sides / 3), // sideLength\r\n                    options.particles.shape.polygon.nb_sides, // sideCountNumerator\r\n                    2 // sideCountDenominator\r\n                );\r\n                break;\r\n            case 'image':\r\n                function draw() {\r\n                    pJS.canvas.ctx.drawImage(img_obj, p.x - radius, p.y - radius, radius * 2, radius * 2 / p.img.ratio);\r\n                }\r\n\r\n                let img_obj;\r\n\r\n                if (pJS.img_type == 'svg') {\r\n                    img_obj = p.img.obj;\r\n                }\r\n                else {\r\n                    img_obj = pJS.img_obj;\r\n                }\r\n                if (img_obj) {\r\n                    draw();\r\n                }\r\n                break;\r\n        }\r\n\r\n        pJS.canvas.ctx.closePath();\r\n\r\n        if (options.particles.shape.stroke.width > 0) {\r\n            pJS.canvas.ctx.strokeStyle = options.particles.shape.stroke.color;\r\n            pJS.canvas.ctx.lineWidth = options.particles.shape.stroke.width;\r\n            pJS.canvas.ctx.stroke();\r\n        }\r\n\r\n        pJS.canvas.ctx.fill();\r\n    }\r\n}","import { isInArray, hexToRgb, clamp } from './pjsutils';\r\nimport { pJSParticle } from './pjsparticle';\r\n\r\n'use strict';\r\n\r\nexport class pJSModes {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    /* ---------- pJS functions - modes events ------------ */\r\n    pushParticles(nb, pos) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.pushing = true;\r\n        for (let i = 0; i < nb; i++) {\r\n            pJS.particles.array.push(new pJSParticle(pJS, options.particles.color, options.particles.opacity.value, {\r\n                'x': pos ? pos.pos_x : Math.random() * pJS.canvas.w,\r\n                'y': pos ? pos.pos_y : Math.random() * pJS.canvas.h\r\n            }));\r\n            if (i == nb - 1) {\r\n                if (!options.particles.move.enable) {\r\n                    pJS.fn.particles.draw();\r\n                }\r\n                pJS.pushing = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    removeParticles(nb) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.particles.array.splice(0, nb);\r\n        if (!options.particles.move.enable) {\r\n            pJS.fn.particles.draw();\r\n        }\r\n    }\r\n\r\n    bubbleParticle(p) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* on hover event */\r\n        if (options.interactivity.events.onhover.enable && isInArray('bubble', options.interactivity.events.onhover.mode)) {\r\n            let dx_mouse = (p.x + p.offsetX) - pJS.interactivity.mouse.pos_x;\r\n            let dy_mouse = (p.y + p.offsetY) - pJS.interactivity.mouse.pos_y;\r\n            let dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            let ratio = 1 - dist_mouse / options.interactivity.modes.bubble.distance;\r\n\r\n            function init() {\r\n                p.opacity_bubble = p.opacity;\r\n                p.radius_bubble = p.radius;\r\n            }\r\n            /* mousemove - check ratio */\r\n            if (dist_mouse <= options.interactivity.modes.bubble.distance) {\r\n                if (ratio >= 0 && pJS.interactivity.status == 'mousemove') {\r\n                    /* size */\r\n                    if (options.interactivity.modes.bubble.size != options.particles.size.value) {\r\n                        if (options.interactivity.modes.bubble.size > options.particles.size.value) {\r\n                            let size = p.radius + (options.interactivity.modes.bubble.size * ratio);\r\n                            if (size >= 0) {\r\n                                p.radius_bubble = size;\r\n                            }\r\n                        }\r\n                        else {\r\n                            let dif = p.radius - options.interactivity.modes.bubble.size;\r\n                            let size = p.radius - (dif * ratio);\r\n                            \r\n                            if (size > 0) {\r\n                                p.radius_bubble = size;\r\n                            }\r\n                            else {\r\n                                p.radius_bubble = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                    /* opacity */\r\n                    if (options.interactivity.modes.bubble.opacity != options.particles.opacity.value) {\r\n                        if (options.interactivity.modes.bubble.opacity > options.particles.opacity.value) {\r\n                            let opacity = options.interactivity.modes.bubble.opacity * ratio;\r\n                            if (opacity > p.opacity && opacity <= options.interactivity.modes.bubble.opacity) {\r\n                                p.opacity_bubble = opacity;\r\n                            }\r\n                        }\r\n                        else {\r\n                            let opacity = p.opacity - (options.particles.opacity.value - options.interactivity.modes.bubble.opacity) * ratio;\r\n                            if (opacity < p.opacity && opacity >= options.interactivity.modes.bubble.opacity) {\r\n                                p.opacity_bubble = opacity;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                init();\r\n            }\r\n            /* mouseleave */\r\n            if (pJS.interactivity.status == 'mouseleave') {\r\n                init();\r\n            }\r\n        }\r\n        /* on click event */\r\n        else if (options.interactivity.events.onclick.enable && isInArray('bubble', options.interactivity.events.onclick.mode)) {\r\n            if (pJS.bubble_clicking) {\r\n                let dx_mouse = p.x - pJS.interactivity.mouse.click_pos_x;\r\n                let dy_mouse = p.y - pJS.interactivity.mouse.click_pos_y;\r\n                let dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n                let time_spent = (new Date().getTime() - pJS.interactivity.mouse.click_time) / 1000;\r\n\r\n                if (time_spent > options.interactivity.modes.bubble.duration) {\r\n                    pJS.bubble_duration_end = true;\r\n                }\r\n                if (time_spent > options.interactivity.modes.bubble.duration * 2) {\r\n                    pJS.bubble_clicking = false;\r\n                    pJS.bubble_duration_end = false;\r\n                }\r\n            }\r\n            function process(bubble_param, particles_param, p_obj_bubble, p_obj, id) {\r\n                if (bubble_param != particles_param) {\r\n                    if (!pJS.bubble_duration_end) {\r\n                        if (dist_mouse <= options.interactivity.modes.bubble.distance) {\r\n                            let obj;\r\n\r\n                            if (p_obj_bubble != undefined)\r\n                                obj = p_obj_bubble;\r\n                            else\r\n                                obj = p_obj;\r\n                            if (obj != bubble_param) {\r\n                                let value = p_obj - (time_spent * (p_obj - bubble_param) / options.interactivity.modes.bubble.duration);\r\n\r\n                                if (id == 'size')\r\n                                    p.radius_bubble = value;\r\n                                if (id == 'opacity')\r\n                                    p.opacity_bubble = value;\r\n                            }\r\n                        } else {\r\n                            if (id == 'size')\r\n                                p.radius_bubble = undefined;\r\n                            if (id == 'opacity')\r\n                                p.opacity_bubble = undefined;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (p_obj_bubble != undefined) {\r\n                            let value_tmp = p_obj - (time_spent * (p_obj - bubble_param) / options.interactivity.modes.bubble.duration), dif = bubble_param - value_tmp;\r\n                            let value = bubble_param + dif;\r\n\r\n                            if (id == 'size')\r\n                                p.radius_bubble = value;\r\n                            if (id == 'opacity')\r\n                                p.opacity_bubble = value;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (pJS.bubble_clicking) {\r\n                /* size */\r\n                process(options.interactivity.modes.bubble.size, options.particles.size.value, p.radius_bubble, p.radius, 'size');\r\n                /* opacity */\r\n                process(options.interactivity.modes.bubble.opacity, options.particles.opacity.value, p.opacity_bubble, p.opacity, 'opacity');\r\n            }\r\n        }\r\n    }\r\n\r\n    repulseParticle(p) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (options.interactivity.events.onhover.enable && isInArray('repulse', options.interactivity.events.onhover.mode) && pJS.interactivity.status == 'mousemove') {\r\n            let dx_mouse = p.x - pJS.interactivity.mouse.pos_x;\r\n            let dy_mouse = p.y - pJS.interactivity.mouse.pos_y;\r\n            let dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            let normVec = { x: dx_mouse / dist_mouse, y: dy_mouse / dist_mouse }, repulseRadius = options.interactivity.modes.repulse.distance, velocity = 100, repulseFactor = clamp((1 / repulseRadius) * (-1 * Math.pow(dist_mouse / repulseRadius, 2) + 1) * repulseRadius * velocity, 0, 50);\r\n            let pos = {\r\n                x: p.x + normVec.x * repulseFactor,\r\n                y: p.y + normVec.y * repulseFactor\r\n            };\r\n\r\n            if (options.particles.move.out_mode == 'bounce') {\r\n                if (pos.x - p.radius > 0 && pos.x + p.radius < pJS.canvas.w)\r\n                    p.x = pos.x;\r\n                if (pos.y - p.radius > 0 && pos.y + p.radius < pJS.canvas.h)\r\n                    p.y = pos.y;\r\n            } else {\r\n                p.x = pos.x;\r\n                p.y = pos.y;\r\n            }\r\n        }\r\n        else if (options.interactivity.events.onclick.enable && isInArray('repulse', options.interactivity.events.onclick.mode)) {\r\n            if (!pJS.repulse_finish) {\r\n                pJS.repulse_count++;\r\n                if (pJS.repulse_count == pJS.particles.array.length) {\r\n                    pJS.repulse_finish = true;\r\n                }\r\n            }\r\n            if (pJS.repulse_clicking) {\r\n                let repulseRadius = Math.pow(options.interactivity.modes.repulse.distance / 6, 3);\r\n                let dx = pJS.interactivity.mouse.click_pos_x - p.x, dy = pJS.interactivity.mouse.click_pos_y - p.y, d = dx * dx + dy * dy;\r\n                let force = -repulseRadius / d * 1;\r\n\r\n                function process() {\r\n                    let f = Math.atan2(dy, dx);\r\n                    p.vx = force * Math.cos(f);\r\n                    p.vy = force * Math.sin(f);\r\n                    if (options.particles.move.out_mode == 'bounce') {\r\n                        let pos = {\r\n                            x: p.x + p.vx,\r\n                            y: p.y + p.vy\r\n                        };\r\n                        if (pos.x + p.radius > pJS.canvas.w)\r\n                            p.vx = -p.vx;\r\n                        else if (pos.x - p.radius < 0)\r\n                            p.vx = -p.vx;\r\n                        if (pos.y + p.radius > pJS.canvas.h)\r\n                            p.vy = -p.vy;\r\n                        else if (pos.y - p.radius < 0)\r\n                            p.vy = -p.vy;\r\n                    }\r\n                }\r\n                // default\r\n                if (d <= repulseRadius) {\r\n                    process();\r\n                }\r\n                // bang - slow motion mode\r\n                // if(!pJS.repulse_finish){\r\n                //   if(d <= repulseRadius){\r\n                //     process();\r\n                //   }\r\n                // }else{\r\n                //   process();\r\n                // }\r\n            } else {\r\n                if (pJS.repulse_clicking == false) {\r\n                    p.vx = p.vx_i;\r\n                    p.vy = p.vy_i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    grabParticle(p) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (options.interactivity.events.onhover.enable && pJS.interactivity.status == 'mousemove') {\r\n            let dx_mouse = p.x - pJS.interactivity.mouse.pos_x;\r\n            let dy_mouse = p.y - pJS.interactivity.mouse.pos_y;\r\n            let dist_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);\r\n            /* draw a line between the cursor and the particle if the distance between them is under the config distance */\r\n            if (dist_mouse <= options.interactivity.modes.grab.distance) {\r\n                let opacity_line = options.interactivity.modes.grab.line_linked.opacity - (dist_mouse / (1 / options.interactivity.modes.grab.line_linked.opacity)) / options.interactivity.modes.grab.distance;\r\n\r\n                if (opacity_line > 0) {\r\n                    /* style */\r\n                    options.particles.line_linked.color_rgb = options.particles.line_linked.color_rgb || hexToRgb(options.particles.line_linked.color);\r\n\r\n                    let color_line = options.particles.line_linked.color_rgb;\r\n                    \r\n                    pJS.canvas.ctx.strokeStyle = 'rgba(' + color_line.r + ',' + color_line.g + ',' + color_line.b + ',' + opacity_line + ')';\r\n                    pJS.canvas.ctx.lineWidth = options.particles.line_linked.width;\r\n                    //pJS.canvas.ctx.lineCap = 'round'; /* performance issue */\r\n                    /* path */\r\n                    pJS.canvas.ctx.beginPath();\r\n                    pJS.canvas.ctx.moveTo(p.x + p.offsetX, p.y + p.offsetY);\r\n                    pJS.canvas.ctx.lineTo(pJS.interactivity.mouse.pos_x, pJS.interactivity.mouse.pos_y);\r\n                    pJS.canvas.ctx.stroke();\r\n                    pJS.canvas.ctx.closePath();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { isInArray } from './pjsutils';\r\nimport { pJSLoader } from './pjsloader';\r\n\r\n'use strict';\r\n\r\nexport class pJSVendors {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    /* ---------- pJS functions - vendors ------------ */\r\n    eventsListeners() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* events target element */\r\n        if (options.interactivity.detect_on == 'window') {\r\n            pJS.interactivity.el = window;\r\n        }\r\n        else {\r\n            pJS.interactivity.el = pJS.canvas.el;\r\n        }\r\n        /* detect mouse pos - on hover / click event */\r\n        if (options.interactivity.events.onhover.enable || options.interactivity.events.onclick.enable) {\r\n            /* el on mousemove */\r\n            pJS.interactivity.el.addEventListener('mousemove', e => {\r\n                let pos_x;\r\n                let pos_y;\r\n\r\n                if (pJS.interactivity.el == window) {\r\n                    pos_x = e.clientX;\r\n                    pos_y = e.clientY;\r\n                } else {\r\n                    pos_x = e.offsetX || e.clientX;\r\n                    pos_y = e.offsetY || e.clientY;\r\n                }\r\n\r\n                pJS.interactivity.mouse.pos_x = pos_x;\r\n                pJS.interactivity.mouse.pos_y = pos_y;\r\n\r\n                if (pJS.retina) {\r\n                    pJS.interactivity.mouse.pos_x *= pJS.canvas.pxratio;\r\n                    pJS.interactivity.mouse.pos_y *= pJS.canvas.pxratio;\r\n                }\r\n\r\n                pJS.interactivity.status = 'mousemove';\r\n            });\r\n            /* el on onmouseleave */\r\n            pJS.interactivity.el.addEventListener('mouseleave', e => {\r\n                pJS.interactivity.mouse.pos_x = null;\r\n                pJS.interactivity.mouse.pos_y = null;\r\n                pJS.interactivity.status = 'mouseleave';\r\n            });\r\n        }\r\n        /* on click event */\r\n        if (options.interactivity.events.onclick.enable) {\r\n            pJS.interactivity.el.addEventListener('click', () => {\r\n                pJS.interactivity.mouse.click_pos_x = pJS.interactivity.mouse.pos_x;\r\n                pJS.interactivity.mouse.click_pos_y = pJS.interactivity.mouse.pos_y;\r\n                pJS.interactivity.mouse.click_time = new Date().getTime();\r\n                if (options.interactivity.events.onclick.enable) {\r\n                    switch (options.interactivity.events.onclick.mode) {\r\n                        case 'push':\r\n                            if (options.particles.move.enable) {\r\n                                pJS.fn.modes.pushParticles(options.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\r\n                            }\r\n                            else {\r\n                                if (options.interactivity.modes.push.particles_nb == 1) {\r\n                                    pJS.fn.modes.pushParticles(options.interactivity.modes.push.particles_nb, pJS.interactivity.mouse);\r\n                                }\r\n                                else if (options.interactivity.modes.push.particles_nb > 1) {\r\n                                    pJS.fn.modes.pushParticles(options.interactivity.modes.push.particles_nb);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 'remove':\r\n                            pJS.fn.modes.removeParticles(options.interactivity.modes.remove.particles_nb);\r\n                            break;\r\n                        case 'bubble':\r\n                            pJS.bubble_clicking = true;\r\n                            break;\r\n                        case 'repulse':\r\n                            pJS.repulse_clicking = true;\r\n                            pJS.repulse_count = 0;\r\n                            pJS.repulse_finish = false;\r\n                            setTimeout(() => {\r\n                                pJS.repulse_clicking = false;\r\n                            }, options.interactivity.modes.repulse.duration * 1000);\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    densityAutoParticles() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (options.particles.number.density.enable) {\r\n            /* calc area */\r\n            let area = pJS.canvas.el.width * pJS.canvas.el.height / 1000;\r\n\r\n            if (pJS.retina) {\r\n                area = area / (pJS.canvas.pxratio * 2);\r\n            }\r\n            /* calc number of particles based on density area */\r\n            let nb_particles = area * options.particles.number.value / options.particles.number.density.value_area;\r\n\r\n            /* add or remove X particles */\r\n            let missing_particles = pJS.particles.array.length - nb_particles;\r\n\r\n            if (missing_particles < 0)\r\n                pJS.fn.modes.pushParticles(Math.abs(missing_particles));\r\n            else\r\n                pJS.fn.modes.removeParticles(missing_particles);\r\n        }\r\n    }\r\n\r\n    checkOverlap(p1, position) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        for (let i = 0; i < pJS.particles.array.length; i++) {\r\n            let p2 = pJS.particles.array[i];\r\n            let dx = p1.x - p2.x;\r\n            let dy = p1.y - p2.y;\r\n            let dist = Math.sqrt(dx * dx + dy * dy);\r\n\r\n            if (dist <= p1.radius + p2.radius) {\r\n                p1.x = position ? position.x : Math.random() * pJS.canvas.w;\r\n                p1.y = position ? position.y : Math.random() * pJS.canvas.h;\r\n                pJS.fn.vendors.checkOverlap(p1);\r\n            }\r\n        }\r\n    }\r\n\r\n    createSvgImg(p) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* set color to svg element */\r\n        let svgXml = pJS.source_svg;\r\n        let rgbHex = /#([0-9A-F]{3,6})/gi;\r\n        let coloredSvgXml = svgXml.replace(rgbHex, (m, r, g, b) => {\r\n            let color_value;\r\n            if (p.color.rgb) {\r\n                color_value = 'rgba(' + p.color.rgb.r + ',' + p.color.rgb.g + ',' + p.color.rgb.b + ',' + p.opacity + ')';\r\n            }\r\n            else {\r\n                color_value = 'hsla(' + p.color.hsl.h + ',' + p.color.hsl.s + '%,' + p.color.hsl.l + '%,' + p.opacity + ')';\r\n            }\r\n            return color_value;\r\n        });\r\n        /* prepare to create img with colored svg */\r\n        let svg = new Blob([coloredSvgXml], { type: 'image/svg+xml;charset=utf-8' }), DOMURL = window.URL || window.webkitURL || window, url = DOMURL.createObjectURL(svg);\r\n        /* create particle img obj */\r\n        let img = new Image();\r\n        img.addEventListener('load', () => {\r\n            p.img.obj = img;\r\n            p.img.loaded = true;\r\n            DOMURL.revokeObjectURL(url);\r\n            pJS.count_svg++;\r\n        });\r\n        img.src = url;\r\n    }\r\n\r\n    destroypJS() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        cancelAnimationFrame(pJS.fn.drawAnimFrame);\r\n        canvas_el.remove();\r\n        pJSLoader.pJSDomSet(null);\r\n    }\r\n\r\n    drawShape(c, startX, startY, sideLength, sideCountNumerator, sideCountDenominator) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        // By Programming Thomas - https://programmingthomas.wordpress.com/2013/04/03/n-sided-shapes/\r\n        let sideCount = sideCountNumerator * sideCountDenominator;\r\n        let decimalSides = sideCountNumerator / sideCountDenominator;\r\n        let interiorAngleDegrees = (180 * (decimalSides - 2)) / decimalSides;\r\n        let interiorAngle = Math.PI - Math.PI * interiorAngleDegrees / 180; // convert to radians\r\n        c.save();\r\n        c.beginPath();\r\n        c.translate(startX, startY);\r\n        c.moveTo(0, 0);\r\n        for (let i = 0; i < sideCount; i++) {\r\n            c.lineTo(sideLength, 0);\r\n            c.translate(sideLength, 0);\r\n            c.rotate(interiorAngle);\r\n        }\r\n        //c.stroke();\r\n        c.fill();\r\n        c.restore();\r\n    }\r\n\r\n    exportImg() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        window.open(pJS.canvas.el.toDataURL('image/png'), '_blank');\r\n    }\r\n\r\n    async loadImg(type) {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.img_error = undefined;\r\n        if (options.particles.shape.image.src != '') {\r\n            if (type == 'svg') {\r\n                let response = await fetch(options.particles.shape.image.src);\r\n\r\n                if (response.ok) {\r\n                    pJS.source_svg = await response.blob();\r\n                    pJS.fn.vendors.checkBeforeDraw();\r\n                } else {\r\n                    console.error('Error pJS - Image not found');\r\n                    pJS.img_error = true;\r\n                }\r\n            }\r\n            else {\r\n                let img = new Image();\r\n\r\n                img.addEventListener('load', () => {\r\n                    pJS.img_obj = img;\r\n                    pJS.fn.vendors.checkBeforeDraw();\r\n                });\r\n\r\n                img.src = options.particles.shape.image.src;\r\n            }\r\n        }\r\n        else {\r\n            console.error('Error pJS - No image.src');\r\n            pJS.img_error = true;\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (options.particles.shape.type == 'image') {\r\n            if (pJS.img_type == 'svg') {\r\n                if (pJS.count_svg >= options.particles.number.value) {\r\n                    pJS.fn.particles.draw();\r\n                    if (!options.particles.move.enable)\r\n                        cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\r\n                    else\r\n                        pJS.fn.drawAnimFrame = requestAnimFrame(() => {\r\n                            pJS.fn.vendors.draw();\r\n                        });\r\n                }\r\n                else {\r\n                    if (!pJS.img_error)\r\n                        pJS.fn.drawAnimFrame = requestAnimFrame(() => {\r\n                            pJS.fn.vendors.draw();\r\n                        });\r\n                }\r\n            }\r\n            else {\r\n                if (pJS.img_obj != undefined) {\r\n                    pJS.fn.particles.draw();\r\n                    if (!options.particles.move.enable)\r\n                        cancelRequestAnimFrame(() => {\r\n                            pJS.fn.drawAnimFrame();\r\n                        });\r\n                    else\r\n                        pJS.fn.drawAnimFrame = requestAnimFrame(() => {\r\n                            pJS.fn.vendors.draw();\r\n                        });\r\n                }\r\n                else {\r\n                    if (!pJS.img_error)\r\n                        pJS.fn.drawAnimFrame = requestAnimFrame(() => {\r\n                            pJS.fn.vendors.draw();\r\n                        });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            pJS.fn.particles.draw();\r\n            if (!options.particles.move.enable)\r\n                cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\r\n            else\r\n                pJS.fn.drawAnimFrame = requestAnimFrame(() => {\r\n                    pJS.fn.vendors.draw();\r\n                });\r\n        }\r\n    }\r\n\r\n    checkBeforeDraw() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        // if shape is image\r\n        if (options.particles.shape.type == 'image') {\r\n            if (pJS.img_type == 'svg' && pJS.source_svg == undefined) {\r\n                pJS.checkAnimFrame = requestAnimFrame(() => {\r\n                    check();\r\n                });\r\n            }\r\n            else {\r\n                cancelRequestAnimFrame(pJS.checkAnimFrame);\r\n                if (!pJS.img_error) {\r\n                    pJS.fn.vendors.init();\r\n                    pJS.fn.vendors.draw();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            pJS.fn.vendors.init();\r\n            pJS.fn.vendors.draw();\r\n        }\r\n    }\r\n\r\n    init() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* init canvas + particles */\r\n        pJS.fn.retina.init();\r\n        pJS.fn.canvas.init();\r\n        pJS.fn.canvas.size();\r\n        pJS.fn.canvas.paint();\r\n        pJS.fn.particles.create();\r\n        pJS.fn.vendors.densityAutoParticles();\r\n    }\r\n\r\n    async start() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (isInArray('image', options.particles.shape.type)) {\r\n            pJS.img_type = options.particles.shape.image.src.substr(options.particles.shape.image.src.length - 3);\r\n            await pJS.fn.vendors.loadImg(pJS.img_type);\r\n        }\r\n        else {\r\n            pJS.fn.vendors.checkBeforeDraw();\r\n        }\r\n    }\r\n}","'use strict';\r\n\r\nexport class pJSRetina {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    init() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        if (options.retina_detect && window.devicePixelRatio > 1) {\r\n            pJS.canvas.pxratio = window.devicePixelRatio;\r\n            pJS.retina = true;\r\n        }\r\n        else {\r\n            pJS.canvas.pxratio = 1;\r\n            pJS.retina = false;\r\n        }\r\n\r\n        pJS.canvas.w = pJS.canvas.el.offsetWidth * pJS.canvas.pxratio;\r\n        pJS.canvas.h = pJS.canvas.el.offsetHeight * pJS.canvas.pxratio;\r\n        options.particles.size.value = options.particles.size.value * pJS.canvas.pxratio;\r\n        options.particles.size.anim.speed = options.particles.size.anim.speed * pJS.canvas.pxratio;\r\n        options.particles.move.speed = options.particles.move.speed * pJS.canvas.pxratio;\r\n        options.particles.line_linked.distance = options.particles.line_linked.distance * pJS.canvas.pxratio;\r\n        options.interactivity.modes.grab.distance = options.interactivity.modes.grab.distance * pJS.canvas.pxratio;\r\n        options.interactivity.modes.bubble.distance = options.interactivity.modes.bubble.distance * pJS.canvas.pxratio;\r\n        options.particles.line_linked.width = options.particles.line_linked.width * pJS.canvas.pxratio;\r\n        options.interactivity.modes.bubble.size = options.interactivity.modes.bubble.size * pJS.canvas.pxratio;\r\n        options.interactivity.modes.repulse.distance = options.interactivity.modes.repulse.distance * pJS.canvas.pxratio;\r\n    }\r\n}","'use strict';\r\n\r\nexport class pJSCanvas {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    /* ---------- pJS functions - canvas ------------ */\r\n    init() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.canvas.ctx = pJS.canvas.el.getContext('2d');\r\n    }\r\n\r\n    size() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.canvas.el.width = pJS.canvas.w;\r\n        pJS.canvas.el.height = pJS.canvas.h;\r\n        if (pJS && options.interactivity.events.resize) {\r\n            window.addEventListener('resize', () => {\r\n                pJS.canvas.w = pJS.canvas.el.offsetWidth;\r\n                pJS.canvas.h = pJS.canvas.el.offsetHeight;\r\n                /* resize canvas */\r\n                if (pJS.retina) {\r\n                    pJS.canvas.w *= pJS.canvas.pxratio;\r\n                    pJS.canvas.h *= pJS.canvas.pxratio;\r\n                }\r\n                pJS.canvas.el.width = pJS.canvas.w;\r\n                pJS.canvas.el.height = pJS.canvas.h;\r\n                /* repaint canvas on anim disabled */\r\n                if (!options.particles.move.enable) {\r\n                    pJS.fn.particles.empty();\r\n                    pJS.fn.particles.create();\r\n                    pJS.fn.particles.draw();\r\n                    pJS.fn.vendors.densityAutoParticles();\r\n                }\r\n                /* density particles enabled */\r\n                pJS.fn.vendors.densityAutoParticles();\r\n            });\r\n        }\r\n    }\r\n\r\n    paint() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.canvas.ctx.fillRect(0, 0, pJS.canvas.w, pJS.canvas.h);\r\n    }\r\n\r\n    clear() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\r\n    }\r\n}","import { pJSParticle } from './pjsparticle';\r\nimport { isInArray } from './pjsutils';\r\n\r\n'use strict';\r\n\r\nexport class pJSParticles {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n    }\r\n\r\n    /* --------- pJS functions - particles ----------- */\r\n    create() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        for (let i = 0; i < options.particles.number.value; i++) {\r\n            pJS.particles.array.push(new pJSParticle(pJS, options.particles.color, options.particles.opacity.value));\r\n        }\r\n    }\r\n\r\n    update() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        for (let i = 0; i < pJS.particles.array.length; i++) {\r\n            /* the particle */\r\n            let p = pJS.particles.array[i];\r\n            // let d = ( dx = pJS.interactivity.mouse.click_pos_x - p.x ) * dx + ( dy = pJS.interactivity.mouse.click_pos_y - p.y ) * dy;\r\n            // let f = -BANG_SIZE / d;\r\n            // if ( d < BANG_SIZE ) {\r\n            //     let t = Math.atan2( dy, dx );\r\n            //     p.vx = f * Math.cos(t);\r\n            //     p.vy = f * Math.sin(t);\r\n            // }\r\n            /* move the particle */\r\n            if (options.particles.move.enable) {\r\n                let ms = options.particles.move.speed / 2;\r\n                p.x += p.vx * ms;\r\n                p.y += p.vy * ms;\r\n            }\r\n            /* parallax */\r\n            if (pJS.interactivity.mouse.pos_x && options.interactivity.events.onhover.parallax.enable) {\r\n                /* smaller is the particle, longer is the offset distance */\r\n                let tmp_x = (pJS.interactivity.mouse.pos_x - (window.innerWidth / 2)) * (p.radius / options.interactivity.events.onhover.parallax.force);\r\n\r\n                p.offsetX += (tmp_x - p.offsetX) / options.interactivity.events.onhover.parallax.smooth; // Easing equation\r\n\r\n                let tmp_y = (pJS.interactivity.mouse.pos_y - (window.innerHeight / 2)) * (p.radius / options.interactivity.events.onhover.parallax.force);\r\n\r\n                p.offsetY += (tmp_y - p.offsetY) / options.interactivity.events.onhover.parallax.smooth; // Easing equation\r\n            }\r\n            /* change opacity status */\r\n            if (options.particles.opacity.anim.enable) {\r\n                if (p.opacity_status == true) {\r\n                    if (p.opacity >= options.particles.opacity.value)\r\n                        p.opacity_status = false;\r\n                    p.opacity += p.vo;\r\n                }\r\n                else {\r\n                    if (p.opacity <= options.particles.opacity.anim.opacity_min)\r\n                        p.opacity_status = true;\r\n                    p.opacity -= p.vo;\r\n                }\r\n                if (p.opacity < 0)\r\n                    p.opacity = 0;\r\n            }\r\n            /* change size */\r\n            if (options.particles.size.anim.enable) {\r\n                if (p.size_status == true) {\r\n                    if (p.radius >= options.particles.size.value)\r\n                        p.size_status = false;\r\n                    p.radius += p.vs;\r\n                }\r\n                else {\r\n                    if (p.radius <= options.particles.size.anim.size_min)\r\n                        p.size_status = true;\r\n                    p.radius -= p.vs;\r\n                }\r\n                if (p.radius < 0)\r\n                    p.radius = 0;\r\n            }\r\n            /* change particle position if it is out of canvas */\r\n            let new_pos;\r\n\r\n            if (options.particles.move.out_mode == 'bounce') {\r\n                new_pos = {\r\n                    x_left: p.radius,\r\n                    x_right: pJS.canvas.w,\r\n                    y_top: p.radius,\r\n                    y_bottom: pJS.canvas.h\r\n                };\r\n            }\r\n            else {\r\n                new_pos = {\r\n                    x_left: -p.radius - p.offsetX,\r\n                    x_right: pJS.canvas.w + p.radius + p.offsetX,\r\n                    y_top: -p.radius - p.offsetY,\r\n                    y_bottom: pJS.canvas.h + p.radius - p.offsetY\r\n                };\r\n            }\r\n            if ((p.x) - p.radius > pJS.canvas.w - p.offsetX) {\r\n                p.x = new_pos.x_left;\r\n                p.y = Math.random() * pJS.canvas.h;\r\n            }\r\n            else if ((p.x) + p.radius < 0 - p.offsetX) {\r\n                p.x = new_pos.x_right;\r\n                p.y = Math.random() * pJS.canvas.h;\r\n            }\r\n            if ((p.y) - p.radius > pJS.canvas.h - p.offsetY) {\r\n                p.y = new_pos.y_top;\r\n                p.x = Math.random() * pJS.canvas.w;\r\n            }\r\n            else if ((p.y) + p.radius < 0 - p.offsetY) {\r\n                p.y = new_pos.y_bottom;\r\n                p.x = Math.random() * pJS.canvas.w;\r\n            }\r\n            /* out of canvas modes */\r\n            switch (options.particles.move.out_mode) {\r\n                case 'bounce':\r\n                    if ((p.x + p.offsetX) + p.radius > pJS.canvas.w)\r\n                        p.vx = -p.vx;\r\n                    else if ((p.x + p.offsetX) - p.radius < 0)\r\n                        p.vx = -p.vx;\r\n                    if ((p.y + p.offsetY) + p.radius > pJS.canvas.h)\r\n                        p.vy = -p.vy;\r\n                    else if ((p.y + p.offsetY) - p.radius < 0)\r\n                        p.vy = -p.vy;\r\n                    break;\r\n            }\r\n            /* events */\r\n            if (isInArray('grab', options.interactivity.events.onhover.mode)) {\r\n                pJS.fn.modes.grabParticle(p);\r\n            }\r\n            if (isInArray('bubble', options.interactivity.events.onhover.mode) || isInArray('bubble', options.interactivity.events.onclick.mode)) {\r\n                pJS.fn.modes.bubbleParticle(p);\r\n            }\r\n            if (isInArray('repulse', options.interactivity.events.onhover.mode) || isInArray('repulse', options.interactivity.events.onclick.mode)) {\r\n                pJS.fn.modes.repulseParticle(p);\r\n            }\r\n            /* interaction auto between particles */\r\n            if (options.particles.line_linked.enable || options.particles.move.attract.enable) {\r\n                for (let j = i + 1; j < pJS.particles.array.length; j++) {\r\n                    let p2 = pJS.particles.array[j];\r\n                    /* link particles */\r\n                    if (options.particles.line_linked.enable) {\r\n                        pJS.fn.interact.linkParticles(p, p2);\r\n                    }\r\n                    /* attract particles */\r\n                    if (options.particles.move.attract.enable) {\r\n                        pJS.fn.interact.attractParticles(p, p2);\r\n                    }\r\n                    /* bounce particles */\r\n                    if (options.particles.move.bounce) {\r\n                        pJS.fn.interact.bounceParticles(p, p2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* clear canvas */\r\n        pJS.canvas.ctx.clearRect(0, 0, pJS.canvas.w, pJS.canvas.h);\r\n        /* update each particles param */\r\n        pJS.fn.particles.update();\r\n        /* draw each particle */\r\n        for (let i = 0; i < pJS.particles.array.length; i++) {\r\n            let p = pJS.particles.array[i];\r\n            p.draw();\r\n        }\r\n    }\r\n\r\n    empty() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.particles.array = [];\r\n    }\r\n\r\n    async refresh() {\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        /* init all */\r\n        cancelRequestAnimFrame(pJS.fn.checkAnimFrame);\r\n        cancelRequestAnimFrame(pJS.fn.drawAnimFrame);\r\n        pJS.source_svg = undefined;\r\n        pJS.img_obj = undefined;\r\n        pJS.count_svg = 0;\r\n        pJS.fn.particles.empty();\r\n        pJS.fn.canvas.clear();\r\n        /* restart */\r\n        await pJS.fn.vendors.start();\r\n    }\r\n}","import { pJSInteract } from './pjsinteract';\r\nimport { pJSModes } from './pjsmodes';\r\nimport { pJSVendors } from './pjsvendors';\r\nimport { pJSRetina } from './pjsretina';\r\nimport { pJSCanvas } from './pjscanvas';\r\nimport { pJSParticles } from './pjsparticles';\r\n\r\n'use strict';\r\n\r\nexport class pJSFunctions {\r\n    constructor(pJS) {\r\n        this.pJS = pJS;\r\n\r\n        this.interact = new pJSInteract(pJS);\r\n        this.modes = new pJSModes(pJS);\r\n        this.vendors = new pJSVendors(pJS);\r\n        this.retina = new pJSRetina(pJS);\r\n        this.canvas = new pJSCanvas(pJS);\r\n        this.particles = new pJSParticles(pJS);\r\n    }\r\n}","import { pJSFunctions } from './pjsfunctions';\r\n\r\n'use strict';\r\n\r\nexport class pJS {\r\n    constructor(tag_id, params) {\r\n        let canvas_el = document.querySelector('#' + tag_id + ' > .particles-js-canvas-el');\r\n\r\n        /* particles.js variables with default values */\r\n        this.pJS = {\r\n            canvas: {\r\n                el: canvas_el,\r\n                w: canvas_el.offsetWidth,\r\n                h: canvas_el.offsetHeight\r\n            },\r\n            particles: {\r\n                array: []\r\n            },\r\n            interactivity: {\r\n                mouse: {}\r\n            },\r\n            options: {\r\n                particles: {\r\n                    number: {\r\n                        value: 400,\r\n                        density: {\r\n                            enable: true,\r\n                            value_area: 800\r\n                        }\r\n                    },\r\n                    color: {\r\n                        value: '#fff'\r\n                    },\r\n                    shape: {\r\n                        type: 'circle',\r\n                        stroke: {\r\n                            width: 0,\r\n                            color: '#ff0000'\r\n                        },\r\n                        polygon: {\r\n                            nb_sides: 5\r\n                        },\r\n                        image: {\r\n                            src: '',\r\n                            width: 100,\r\n                            height: 100\r\n                        }\r\n                    },\r\n                    opacity: {\r\n                        value: 1,\r\n                        random: false,\r\n                        anim: {\r\n                            enable: false,\r\n                            speed: 2,\r\n                            opacity_min: 0,\r\n                            sync: false\r\n                        }\r\n                    },\r\n                    size: {\r\n                        value: 20,\r\n                        random: false,\r\n                        anim: {\r\n                            enable: false,\r\n                            speed: 20,\r\n                            size_min: 0,\r\n                            sync: false\r\n                        }\r\n                    },\r\n                    line_linked: {\r\n                        enable: true,\r\n                        distance: 100,\r\n                        color: '#fff',\r\n                        opacity: 1,\r\n                        width: 1\r\n                    },\r\n                    move: {\r\n                        enable: true,\r\n                        speed: 2,\r\n                        direction: 'none',\r\n                        random: false,\r\n                        straight: false,\r\n                        out_mode: 'out',\r\n                        bounce: false,\r\n                        attract: {\r\n                            enable: false,\r\n                            rotateX: 3000,\r\n                            rotateY: 3000\r\n                        }\r\n                    },\r\n                    array: []\r\n                },\r\n                interactivity: {\r\n                    detect_on: 'canvas',\r\n                    events: {\r\n                        onhover: {\r\n                            enable: true,\r\n                            mode: 'grab',\r\n                            parallax: {\r\n                                enable: true,\r\n                                force: 2,\r\n                                smooth: 10\r\n                            }\r\n                        },\r\n                        onclick: {\r\n                            enable: true,\r\n                            mode: 'push'\r\n                        },\r\n                        resize: true\r\n                    },\r\n                    modes: {\r\n                        grab: {\r\n                            distance: 100,\r\n                            line_linked: {\r\n                                opacity: 1\r\n                            }\r\n                        },\r\n                        bubble: {\r\n                            distance: 200,\r\n                            size: 80,\r\n                            duration: 0.4\r\n                        },\r\n                        repulse: {\r\n                            distance: 200,\r\n                            duration: 0.4\r\n                        },\r\n                        push: {\r\n                            particles_nb: 4\r\n                        },\r\n                        remove: {\r\n                            particles_nb: 2\r\n                        }\r\n                    }\r\n                },\r\n                retina_detect: false\r\n            }\r\n        };\r\n\r\n        let pJS = this.pJS;\r\n        let options = pJS.options;\r\n\r\n        pJS.fn = new pJSFunctions(pJS);\r\n\r\n        /* params settings */\r\n        if (params) {\r\n            Object.deepExtend(pJS, params);\r\n            Object.deepExtend(options, params);\r\n        }\r\n\r\n        /* ---------- pJS - start ------------ */\r\n        pJS.fn.vendors.eventsListeners();\r\n\r\n        //TODO: Start è async\r\n        pJS.fn.vendors.start();\r\n    }\r\n}","import { pJS } from './pjs';\r\n\r\n'use strict';\r\n\r\nvar pJSDom = [];\r\n\r\nexport class pJSLoader {\r\n  static pJSDom() {\r\n    if (!pJSDom) {\r\n      pJSLoader.pJSDomSet([]);\r\n    }\r\n\r\n    return pJSDom;\r\n  }\r\n\r\n  static pJSDomSet(value) {\r\n    pJSDom = value;\r\n  }\r\n\r\n  static load(tag_id, params) {\r\n    /* no string id? so it's object params, and set the id with default id */\r\n    if (typeof (tag_id) != 'string') {\r\n      params = tag_id;\r\n      tag_id = 'particles-js';\r\n    }\r\n\r\n    /* no id? set the id to default id */\r\n    if (!tag_id) {\r\n      tag_id = 'particles-js';\r\n    }\r\n\r\n    /* pJS elements */\r\n    let pJS_tag = document.getElementById(tag_id),\r\n      pJS_canvas_class = 'particles-js-canvas-el',\r\n      exist_canvas = pJS_tag.getElementsByClassName(pJS_canvas_class);\r\n\r\n    /* remove canvas if exists into the pJS target tag */\r\n    if (exist_canvas.length) {\r\n      while (exist_canvas.length > 0) {\r\n        pJS_tag.removeChild(exist_canvas[0]);\r\n      }\r\n    }\r\n\r\n    /* create canvas element */\r\n    let canvas_el = document.createElement('canvas');\r\n\r\n    canvas_el.className = pJS_canvas_class;\r\n\r\n    /* set size canvas */\r\n    canvas_el.style.width = \"100%\";\r\n    canvas_el.style.height = \"100%\";\r\n\r\n    /* append canvas */\r\n    let canvas = document.getElementById(tag_id).appendChild(canvas_el);\r\n\r\n    /* launch particle.js */\r\n    if (canvas != null) {\r\n      let pjs = new pJS(tag_id, params);\r\n      let found = false;\r\n\r\n      for (let idx = 0; idx < pJSLoader.pJSDom().length; idx++) {\r\n\r\n        if (pJSLoader.pJSDom()[idx].canvas.tag_id == tag_id) {\r\n          found = true;\r\n          pJSLoader.pJSDom()[idx] = pJS;\r\n        }\r\n      }\r\n\r\n      if (!found) {\r\n        pJSLoader.pJSDom().push(pjs);\r\n      }\r\n      return pjs;\r\n    }\r\n  }\r\n\r\n  static async loadJSON(tag_id, path_config_json, callback) {\r\n    /* load json config */\r\n    let response = await fetch(path_config_json);\r\n\r\n    if (response.ok) {\r\n      let params = await response.json();\r\n\r\n      pJSLoader.load(tag_id, params);\r\n\r\n      if (callback)\r\n        callback();\r\n    } else {\r\n      console.error('Error pJS - fetch status: ' + response.status);\r\n      console.error('Error pJS - File config not found');\r\n    }\r\n  };\r\n};","/* -----------------------------------------------\r\n/* Author : Vincent Garreau  - vincentgarreau.com\r\n/* MIT license: http://opensource.org/licenses/MIT\r\n/* Demo / Generator : vincentgarreau.com/particles.js\r\n/* GitHub : github.com/VincentGarreau/particles.js\r\n/* How to use? : Check the GitHub README\r\n/* v2.0.1\r\n/* ----------------------------------------------- */\r\nimport { pJSLoader } from './pjsloader';\r\n\r\n'use strict';\r\n\r\n/* ---------- global functions - vendors ------------ */\r\n\r\nObject.deepExtend = function (destination, source) {\r\n  for (let property in source) {\r\n    if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n      destination[property] = destination[property] || {};\r\n\r\n      Object.deepExtend(destination[property], source[property]);\r\n    } else {\r\n      destination[property] = source[property];\r\n    }\r\n  }\r\n  return destination;\r\n};\r\n\r\nwindow.requestAnimFrame = (function () {\r\n  return window.requestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.oRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame ||\r\n    function (callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n})();\r\n\r\nwindow.cancelRequestAnimFrame = (function () {\r\n  return window.cancelAnimationFrame ||\r\n    window.webkitCancelRequestAnimationFrame ||\r\n    window.mozCancelRequestAnimationFrame ||\r\n    window.oCancelRequestAnimationFrame ||\r\n    window.msCancelRequestAnimationFrame ||\r\n    clearTimeout\r\n})();\r\n\r\n/* ---------- particles.js functions - start ------------ */\r\n\r\nwindow.particlesJS = function(tag_id, params) {\r\n  pJSLoader.load(tag_id, params);\r\n};\r\n\r\nwindow.particlesJS.load = async function(tag_id, path_config_json, callback) {\r\n  await pJSLoader.loadJSON(tag_id, path_config_json, callback);\r\n}\r\n\r\nwindow.pJSDom = function () {\r\n  return pJSLoader.pJSDom();\r\n}"],"sourceRoot":""}